#!/bin/bash

path="/home/mhdgh/Desktop/my-development"


count_files=$(find $path -type d | grep "node_modules" | wc -l)

echo "Number of node_modules folders: $count_files" 

if [ $count_files != 0 ]; then

	while true; do
		read -p "Do you wish to remove all files?" yn
		case $yn in
			[Yy]* )
				echo ">>> Removing all files"
				for OUTPUT in $(find $path -type d | grep "node_modules")
				do
					# echo $OUTPUT
					if [ -d "$OUTPUT" ]; then
					# delete folder and continas folders
					rm -dfr $OUTPUT;

					echo ">>> done delete folder  ${OUTPUT}..."

					fi	
				done
				break;;
			[Nn]* ) exit;;
			* ) echo "Please answer yes or no.";;
		esac
	done
fi
